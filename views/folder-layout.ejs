<div>
  <% if (locals.folderInfo) { %>
  <div>
    <% if(folderInfo.parentFolderId){ %>
    <a href="/folder/<%= folderInfo.parentFolderId %>">
      <%= folderInfo.parentFolder.folderName %>
    </a>
    <% } else {%>
    <a href="/library"> My Library </a>
    <% } %>
  </div>
  <div>
    <h2><%= folderInfo.folderName %></h2>
    <div>
      <button
        class=""
        onclick="openFolderModal('folderModal','<%= folderInfo.folderName %>' , '<%= folderInfo.id %>' )"
      >
        Create Folder
      </button>
      <button
        class=""
        onclick="openFileModal('fileModal','<%= folderInfo.folderName %>' , '<%= folderInfo.id %>' )"
      >
        Upload File
      </button>
    </div>
  </div>

  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Size</th>
        <th>Created At</th>
        <th>Last Updated</th>
        <th>Options</th>
      </tr>
    </thead>
    <tbody>
      <% if(folderInfo.childFolders && folderInfo.childFolders.length>0) { %> <%
      folderInfo.childFolders.forEach((folder)=>{ %>
      <tr>
        <td><a href="/folder/<%= folder.id %>"><%= folder.folderName %></a></td>
        <td>-</td>
        <td><%= folder.formattedCreatedAt %></td>
        <td><%= folder.formattedUpdatedAt %></td>
        <td class="td-relative">
          <div class="td-div">
            <button class="dropdownMenuIconButton" type="button">
              <?xml version="1.0" encoding="iso-8859-1"?>
              <!-- Uploaded to: SVG Repo, www.svgrepo.com, Generator: SVG Repo Mixer Tools -->
              <svg
                fill="#000000"
                height="20px"
                width="20px"
                version="1.1"
                id="Capa_1"
                xmlns="http://www.w3.org/2000/svg"
                xmlns:xlink="http://www.w3.org/1999/xlink"
                viewBox="0 0 32.055 32.055"
                xml:space="preserve"
              >
                <g>
                  <path
                    d="M3.968,12.061C1.775,12.061,0,13.835,0,16.027c0,2.192,1.773,3.967,3.968,3.967c2.189,0,3.966-1.772,3.966-3.967
                                        C7.934,13.835,6.157,12.061,3.968,12.061z M16.233,12.061c-2.188,0-3.968,1.773-3.968,3.965c0,2.192,1.778,3.967,3.968,3.967
                                        s3.97-1.772,3.97-3.967C20.201,13.835,18.423,12.061,16.233,12.061z M28.09,12.061c-2.192,0-3.969,1.774-3.969,3.967
                                        c0,2.19,1.774,3.965,3.969,3.965c2.188,0,3.965-1.772,3.965-3.965S30.278,12.061,28.09,12.061z"
                  />
                </g>
              </svg>
            </button>
            <!-- Dropdown Menu -->
            <div class="clsHidden dropMenu">
              <button
                class="menu-items"
                onclick="openEditModal('folder', '<%= folder.id %>', '<%= folder.folderName %>')"
              >
                Edit
              </button>
              <button
                class="menu-items"
                onclick="sendDeleteReq('folder','<%= folder.id %>')"
              >
                Delete
              </button>
            </div>
          </div>
        </td>
      </tr>
      <% })} %> <% if(folderInfo.files && folderInfo.files.length>0) { %> <%
      folderInfo.files.forEach((file)=>{ %>
      <tr>
        <td><a href="/file/<%= file.id %>"><%= file.fileName %></a></td>
        <td><%= file.size %> KB</td>
        <td><%= file.formattedCreatedAt %></td>
        <td><%= file.formattedUpdatedAt %></td>
        <td class="td-relative">
          <div class="td-div">
            <button class="dropdownMenuIconButton" type="button">
              <?xml version="1.0" encoding="iso-8859-1"?>
              <!-- Uploaded to: SVG Repo, www.svgrepo.com, Generator: SVG Repo Mixer Tools -->
              <svg
                fill="#000000"
                height="20px"
                width="20px"
                version="1.1"
                id="Capa_1"
                xmlns="http://www.w3.org/2000/svg"
                xmlns:xlink="http://www.w3.org/1999/xlink"
                viewBox="0 0 32.055 32.055"
                xml:space="preserve"
              >
                <g>
                  <path
                    d="M3.968,12.061C1.775,12.061,0,13.835,0,16.027c0,2.192,1.773,3.967,3.968,3.967c2.189,0,3.966-1.772,3.966-3.967
                                        C7.934,13.835,6.157,12.061,3.968,12.061z M16.233,12.061c-2.188,0-3.968,1.773-3.968,3.965c0,2.192,1.778,3.967,3.968,3.967
                                        s3.97-1.772,3.97-3.967C20.201,13.835,18.423,12.061,16.233,12.061z M28.09,12.061c-2.192,0-3.969,1.774-3.969,3.967
                                        c0,2.19,1.774,3.965,3.969,3.965c2.188,0,3.965-1.772,3.965-3.965S30.278,12.061,28.09,12.061z"
                  />
                </g>
              </svg>
            </button>
            <!-- Dropdown Menu -->
            <div class="clsHidden dropMenu">
              <button
                class="menu-items"
                onclick="openEditModal('file', '<%= file.id %>', '<%= file.fileName %>')"
              >
                Edit
              </button>

              <button
                class="menu-items"
                onclick="sendDeleteReq('file','<%= file.id %>')"
              >
                Delete
              </button>
            </div>
          </div>
        </td>
      </tr>
      <% }) } %>
    </tbody>
  </table>

  <% } %>
</div>
